<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Chatbot</title>
  <link rel="stylesheet" href="static/style.css" />
  <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css">
  <script defer src="https://pyscript.net/latest/pyscript.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f2f2f2;
      margin: 0;
      padding: 0;
    }

    .header-center h1, .header-center h2 {
      text-align: center;
    }

    .main-wrapper {
      display: flex;
      justify-content: center;
      gap: 40px;
      padding: 30px;
      flex-wrap: wrap;
    }

    .chatbot-section, .video-section {
      background: #ffffff;
      border-radius: 15px;
      padding: 20px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      width: 500px;
    }

    .chatbot-section form {
      display: flex;
      flex-direction: column;
    }

    .chatbot-section input[type="text"] {
      padding: 10px;
      margin-bottom: 10px;
      font-size: 16px;
    }

    .chatbot-section button {
      padding: 10px;
      background-color: #4caf50;
      color: white;
      border: none;
      cursor: pointer;
      font-size: 16px;
    }

    .chatbot-section button:hover {
      background-color: #45a049;
    }

    iframe {
      width: 100%;
      height: 300px;
      border: none;
      border-radius: 10px;
    }

    .video-section h3 {
      margin-top: 0;
      color: #ffffff;
    }

    .video-section {
      background-color: rgb(104, 116, 133);
      color: white;
    }

    .video-section a {
      color: white;
      text-decoration: underline;
    }

    .Inhalt {
      max-width: 1000px;
      margin: 30px auto;
      padding: 20px;
      background-color: white;
      border-radius: 15px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
  </style>
</head>

<header>
    <!-- Linkes Logo -->
    <img src="static/img/schuuco.jpg" alt="Sch√ºco Logo" class="logo-left" />

    <!-- √úberschrift in der Mitte -->
    <div class="header-center">
      <h1>Willkommen auf unserem Blog</h1>
      <h2>von Ibrahim und Ashwin</h2>
    </div>

    <!-- Rechtes Logo -->
    <img src="static/img/logo3.jpg" alt="Anderes Logo" class="logo-right" />
  </header>

<nav>
    <ul class="nav-menu">
      
      <li><a href="file:///C:/Users/Schueco/Desktop/GitHub/Praktikumswebsite/index.html">Startseite</a></li>
      <li class="dropdown">
        <a href="#">Unternehmen</a>
        <ul class="dropdown-menu">
          <li><a href="ueber-schueco.html">√úber Sch√ºco</a></li>
          <li><a href="bereiche.html">Bereiche</a></li>

          
          
          <li><a href="standorte.html">Standorte</a></li>
         <li><a href="geschichte.html">Geschichte</a></li>
       <li><a href="produktel√∂sungen.html">Produkte & L√∂sungen</a></li>
          <li><a href="nachhaltigkeit.html">Nachhaltigkeit</a></li>
          <li><a href="forschunginnovation.html">Forschung & Innovation </a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a href="#">Praktikum</a>
        <ul class="dropdown-menu">
          <li><a href="tagesablauf.html">Tagesablauf</a></li>
          <li><a href="Aufgaen.html">Aufgaben</a></li>
          <li><a href="Webtigerpython.html">WebTigerJython</a></li>
          <li><a href="taschenrechner.html">Taschenrechner</a></li>
          <li><a href="http://127.0.0.1:21648">Chatbot</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a href="#">Lernerfahrungen</a>
        <ul class="dropdown-menu">
          <li><a href="programmieren.html">Programmieren</a></li>
          <li><a href="selbst√§ndigkeit.html">Selbstst√§ndigkeit</a></li>
          <li><a href="ki.html">KI-Einsatz</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a href="#">Arbeitsumfeld</a>
        <ul class="dropdown-menu">
          <li><a href="team.html">Team & Kollegen</a></li>
          <li><a href="arbeitsplatz.html">Arbeitsplatz</a></li>
          <li><a href="arbeitszeitenundflexibilit√§t.html">Arbeitszeiten & Flexibilit√§t</a></li>
        </ul>
      </li>

      <li class="dropdown">
        <a href="#">Karriere</a>
        <ul class="dropdown-menu">
          <li><a href="jobsundstellen.html">Jobs & Stellenangebote</a></li>
          <li><a href="Bewerbungsprozess.html">Bewerbungsprozess</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a href="#">Fazit</a>
        <ul class="dropdown-menu">
          <li><a href="Fazitibo.html">Ibrahim</a></li>
          <li><a href="FazitAshwin.html">Ashwin</a></li>
        </ul>
      </li>
      
    </ul>
  </nav>

  <!-- Chatbot & Video Bereich -->
  <div class="main-wrapper">

    <!-- Chatbot -->
  <section class="chatbot-section">
    <h1>Abi-Chatbot</h1>
    <form id="chat-form">
      <label for="question">Frage eingeben:</label><br />
      <input type="text" id="question" name="question" /><br /><br />
      <button type="submit">Absenden</button>
    </form>

    <h3>Antwort:</h3>
    <div id="answer">Noch keine Antwort.</div>
  </section>

    <!-- Video rechts -->
    <section class="video-section">
      <h3>Erkl√§rvideo zu RAG (Retrieval-Augmented Generation)</h3>
      <iframe 
        src="https://www.youtube.com/embed/JfSmffOyV-8" 
        title="YouTube video player"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
        allowfullscreen>
      </iframe>
      <p>
        üëâ <a href="https://www.youtube.com/watch?v=JfSmffOyV-8" target="_blank">
          Zum Video auf YouTube
        </a>
      </p>
    </section>

  </div>

  <!-- Erkl√§rung -->
  <article class="Inhalt">
    <h2>Was ist RAG?</h2>
    <p>
      <strong>RAG</strong> steht f√ºr <em>Retrieval-Augmented Generation</em>. Das bedeutet, dass ein Sprachmodell (wie GPT)
      mit einer externen Wissensdatenbank kombiniert wird. Wenn du eine Frage stellst, wird zuerst nach passenden Textstellen
      in z.‚ÄØB. einem PDF gesucht. Danach beantwortet das Modell deine Frage **nur basierend auf diesen Informationen**.
      Das sorgt f√ºr pr√§zisere und nachvollziehbare Antworten.Im video oben erf√§hrst du mehr.
    </p>
  </article>

<script>
document.getElementById("chat-form").addEventListener("submit", async function(event) {
  event.preventDefault();  // Verhindert das Neuladen der Seite

  const question = document.getElementById("question").value.trim();
  const answerDiv = document.getElementById("answer");

  if (!question) {
    answerDiv.textContent = "Bitte eine Frage eingeben.";
    return;
  }

  try {
    const response = await fetch("http://localhost:21648/api/chat", {
      method: "POST",
      headers: {
        "Content-Type": "application/x-www-form-urlencoded"
      },
      body: `question=${encodeURIComponent(question)}`
    });

    if (!response.ok) {
      throw new Error(`Server antwortet mit Status ${response.status}`);
    }

    const data = await response.json();
    answerDiv.textContent = data.answer || "Keine Antwort erhalten.";
  } catch (error) {
    answerDiv.textContent = `Fehler bei Anfrage: ${error.message}`;
  }
});
</script>
</body>
</html>
